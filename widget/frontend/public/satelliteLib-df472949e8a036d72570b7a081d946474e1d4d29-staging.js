// Satellite Library
// Property: Ticketmaster.com - Chron
// All code and conventions are protected by copyright
// Search Discovery, Inc.
(function(e,t,n){function o(){i.addEventHandler(e,"orientationchange",o.orientationChange)}function u(){this.rules=i.filter(i.rules,function(e){return e.event==="elementexists"})}function a(){if(!("ongestureend"in e&&"ontouchend"in e))return;var n=a.currentZoom(),r,s=i.settings.zoomChangeDelay||1e3,o;i.addEventHandler(t,"gestureend",function(e){r=+(new Date),setTimeout(function(){var e=a.currentZoom();if(e===n)return;n=e,o&&clearTimeout(o),o=setTimeout(function(){o=null;var e=a.currentZoom();n===e&&i.onEvent({type:"zoomchange",method:"pinch",zoom:e.toFixed(2),target:t})},s)},50)}),i.addEventHandler(t,"touchend",function(e){if(r&&+(new Date)-r<50)return;setTimeout(function(){var e=a.currentZoom();if(e===n)return;n=e,o&&clearTimeout(o),o=setTimeout(function(){o=null;var e=a.currentZoom();n===e&&i.onEvent({type:"zoomchange",method:"double tap",zoom:e.toFixed(2),target:t})},s)},250)})}function f(){this.rules=i.filter(i.rules,function(e){return e.event.substring(0,11)==="videoplayed"}),this.eventHandler=i.bind(this.onUpdateTime,this)}function l(){var e=this.eventRegex=/^hover\(([0-9]+)\)$/,t=this.rules=[];i.each(i.rules,function(n){var r=n.event.match(e);r&&t.push([Number(n.event.match(e)[1]),n.selector])})}function c(){function n(){var n=e.twttr;n&&n.events&&n.events.bind&&n.events.bind("tweet",function(e){e&&(i.notify("tracking a tweet button",1),i.onEvent({type:"twitter.tweet",target:t}))})}i.domReady(n)}function h(){function n(){var n=e.FB;if(n&&n.Event&&n.Event.subscribe)try{n.Event.subscribe("edge.create",function(){i.notify("tracking a facebook like",1),i.onEvent({type:"facebook.like",target:t})}),n.Event.subscribe("edge.remove",function(){i.notify("tracking a facebook unlike",1),i.onEvent({type:"facebook.unlike",target:t})}),n.Event.subscribe("message.send",function(){i.notify("tracking a facebook share",1),i.onEvent({type:"facebook.send",target:t})})}catch(r){}}i.domReady(n)}function p(){this.rules=i.filter(i.rules,function(e){return e.event==="inview"}),this.elements=[],this.eventHandler=i.bind(this.track,this),i.addEventHandler(e,"scroll",this.eventHandler),i.addEventHandler(e,"load",this.eventHandler)}function d(e){this.settings=e,this.varBindings={},this.events=[],this.products=[]}function v(){this.asyncScriptCallbackQueue=[],this.argsForBlockingScripts=[]}function m(e){this.settings=e}function g(e){this.settings=e,i.notify("Test & Target: Initializing",1),this.styleElements={},this.myInitialize()}var r=Object.prototype.toString,i={$data:function(e,t,r){var s="__satellite__",o=i.dataCache,u=e[s],a=o[u];u||(e[s]=i.uuid++),a||(a=o[u]={});if(r===n)return a[t];a[t]=r},uuid:1,dataCache:{},isArray:Array.isArray||function(e){return r.apply(e)==="[object Array]"},isString:function(e){return typeof e=="string"},isRegex:function(e){return e instanceof RegExp},each:function(e,t,n){for(var r=0,i=e.length;r<i;r++)t.call(n,e[r],r,e)},map:function(e,t,n){var r=[];for(var i=0,s=e.length;i<s;i++)r.push(t.call(n,e[i],i,e));return r},filter:function(e,t,n){var r=[];for(var i=0,s=e.length;i<s;i++){var o=e[i];t.call(n,o,i,e)&&r.push(o)}return r},any:function(e,t,n){for(var r=0,i=e.length;r<i;r++){var s=e[r];if(t.call(n,s,r,e))return!0}return!1},every:function(e,t,n){var r=!0;for(var i=0,s=e.length;i<s;i++){var o=e[i];r=r&&t.call(n,o,i,e)}return r},contains:function(e,t){return i.indexOf(e,t)!==-1},indexOf:function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=e.length;n--;)if(t===e[n])return n;return-1},find:function(e,t,n){var r=[];for(var i=0,s=e.length;i<s;i++){var o=e[i];if(t.call(n,o,i,e))return o}return null},textMatch:function(e,t){return typeof t=="string"?e===t:t instanceof RegExp?t.test(e):!1},bind:function(e,t){return function(){return e.apply(t,arguments)}},throttle:function(e,t){var n=null;return function(){var r=this,i=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(r,i)},t)}},domReady:function(e){function h(e){c=1;while(e=n.shift())e()}var n=[],r,i=!1,s=t,o=s.documentElement,u=o.doScroll,a="DOMContentLoaded",f="addEventListener",l="onreadystatechange",c=/^loade|^c/.test(s.readyState);return s[f]&&s[f](a,r=function(){s.removeEventListener(a,r,i),h()},i),u&&s.attachEvent(l,r=function(){/^c/.test(s.readyState)&&(s.detachEvent(l,r),h())}),e=u?function(t){self!=top?c?t():n.push(t):function(){try{o.doScroll("left")}catch(n){return setTimeout(function(){e(t)},50)}t()}()}:function(e){c?e():n.push(e)}}(),loadScript:function(e,n){var r=t.createElement("script");i.scriptOnLoad(r,n),r.src=e,t.getElementsByTagName("head")[0].appendChild(r)},scriptOnLoad:function(e,t){function n(){t&&t()}e.readyState?e.onreadystatechange=function(){var t=e.readyState;if(t==="loaded"||t==="complete")e.onreadystatechange=null,n()}:e.onload=function(){n()}},pushAsyncScript:function(e){i.tools["default"].pushAsyncScript(e)},pushBlockingScript:function(e){i.tools["default"].pushBlockingScript(e)},addEventHandler:e.addEventListener?function(e,t,n){e.addEventListener(t,n,!1)}:function(e,t,n){e.attachEvent("on"+t,n)},preventDefault:e.addEventListener?function(e){e.preventDefault()}:function(e){e.returnValue=!1},stopPropagation:function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()},containsElement:function(e,t){return e.contains?e.contains(t):!!(e.compareDocumentPosition(t)&16)},matchesCss:function(n){var r=n.matchesSelector||n.mozMatchesSelector||n.webkitMatchesSelector||n.oMatchesSelector||n.msMatchesSelector;return r?function(n,i){if(i===t||i===e)return!1;try{return r.call(i,n)}catch(s){return!1}}:n.querySelectorAll?function(e,t){var n=t.parentNode;if(!n)return!1;try{var r=t.parentNode.querySelectorAll(e);for(var i=r.length;i--;)if(r[i]===t)return!0}catch(s){}return!1}:function(e,t){try{return i.Sizzle.matches(e,[t]).length>0}catch(n){return!1}}}(t.documentElement),cssQuery:function(e){return e.querySelectorAll?function(t,n){var r;try{r=e.querySelectorAll(t)}catch(i){r=[]}n(r)}:function(e,t){if(i.Sizzle){var n;try{n=i.Sizzle(e)}catch(r){n=[]}t(n)}else i.sizzleQueue.push([e,t])}}(t),inherit:function(e,t){var n=new t;n.constructor=e,e.prototype=n},extend:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},toArray:function(){try{var e=Array.prototype.slice;return e.call(t.documentElement.childNodes,0)[0].nodeType,function(t){return e.call(t,0)}}catch(n){return function(e){var t=[];for(var n=0,r=e.length;n<r;n++)t.push(e[n]);return t}}}()};i.availableTools={},i.availableEventEmitters=[],i.fireOnceEvents=["condition","elementexists"],i.initEventEmitters=function(){i.eventEmitters=i.map(i.availableEventEmitters,function(e){return new e})},i.eventEmitterBackgroundTasks=function(){i.each(i.eventEmitters,function(e){"backgroundTasks"in e&&e.backgroundTasks()})},i.initTools=function(e){var t={"default":new v};for(var n in e){var r,s,o;r=e[n];if(r.euCookie){var u=i.readCookie("sat_track")==="false";if(u)continue}s=i.availableTools[r.engine],o=new s(r),o.id=n,t[n]=o}return t},i.preprocessArguments=function(e,t,n,r){function s(e){var r={};for(var s in e)e.hasOwnProperty(s)&&(r[s]=i.replace(e[s],t,n));return r}if(!e)return e;var o=[];for(var u=0,a=e.length;u<a;u++){var f=e[u];typeof f=="string"?(f=i.replace(f,t,n),r&&(f=f.toLowerCase())):f&&f.constructor===Object&&(f=s(f)),o.push(f)}return o},i.execute=function(e,t,n,r){function s(i){var s=r[i||"default"];if(!s)return;s.triggerCommand(e,t,n)}if(_satellite.settings.hideActivity)return;r=r||i.tools;if(e.engine){var o=e.engine;for(var u in r){var a=r[u];a.settings&&a.settings.engine===o&&s(u)}}else e.tool instanceof Array?i.each(e.tool,function(e){s(e)}):s(e.tool)},i.notify=e.console?function(e,t){if(i.settings.notifications)switch(t){case 1:case 2:case 3:console.log("SATELLITE: "+e);break;case 4:console.warn("SATELLITE: "+e);break;case 5:console.error("SATELLITE: "+e);break;default:console.log("SATELLITE: Notify called with incorrect priority.")}}:function(){},i.getObjectProperty=function(e,t){var r=t.split("."),i=e;for(var s=0,o=r.length;s<o;s++){if(i==null)return n;i=i[r[s]]}return i},i.setVar=function(){var e=i.data.customVars;e==null&&(i.data.customVars={},e=i.data.customVars);if(typeof arguments[0]=="string"){var t=arguments[0];e[t]=arguments[1]}else if(arguments[0]){var n=arguments[0];for(var r in n)e[r]=n[r]}},i.dataElementSafe=function(e,t){if(arguments.length>2){var n=arguments[2];t==="pageview"?i.dataElementSafe.pageviewCache[e]=n:t==="session"?i.setCookie("_sdsat_"+e,n):t==="visitor"&&i.setCookie("_sdsat_"+e,n,730)}else{if(t==="pageview")return i.dataElementSafe.pageviewCache[e];if(t==="session"||t==="visitor")return i.readCookie("_sdsat_"+e)}},i.dataElementSafe.pageviewCache={},i.realGetDataElement=function(t){var n;return t.selector?i.hasSelector&&i.cssQuery(t.selector,function(e){if(e.length>0){var r=e[0];t.property==="text"?n=r.innerText||r.textContent:n=r[t.property]}}):t.queryParam?n=i.getQueryParam(t.queryParam):t.cookie?n=i.readCookie(t.cookie):t.jsVariable?n=i.getObjectProperty(e,t.jsVariable):t.customJS&&(n=t.customJS()),n},i.getDataElement=function(e,t,r){r=r||i.dataElements[e];var s=i.realGetDataElement(r);return s===n&&r.storeLength?s=i.dataElementSafe(e,r.storeLength):s!==n&&r.storeLength&&i.dataElementSafe(e,r.storeLength,s),s===n&&!t&&(s=r["default"]),s},i.getVar=function(r,s,o){var u=i.data.customVars,a=o?o.target||o.srcElement:null,f,l,c={URI:i.data.URI,uri:i.data.URI,protocol:t.location.protocol,hostname:t.location.hostname};if(i.dataElements&&r in i.dataElements)return i.getDataElement(r);l=c[r];if(l===n){if(r.substring(0,5)==="this.")return r=r.slice(5),i.getObjectProperty(s,r);if(r.substring(0,6)==="event.")return r=r.slice(6),i.getObjectProperty(o,r);if(r.substring(0,7)==="target.")return r=r.slice(7),i.getObjectProperty(a,r);if(r.substring(0,7)==="window.")return r=r.slice(7),i.getObjectProperty(e,r);if(r.substring(0,6)==="param.")return r=r.slice(6),i.getQueryParam(r);if(f=r.match(/^rand([0-9]+)$/)){var h=Number(f[1]),p=(Math.random()*(Math.pow(10,h)-1)).toFixed(0);return Array(h-p.length+1).join("0")+p}l=i.getObjectProperty(u,r)}return l},i.getVars=function(e,t,n){var r={};return i.each(e,function(e){r[e]=i.getVar(e,t,n)}),r},i.replace=function(e,t,n){return typeof e!="string"?e:e.replace(/%(.*?)%/g,function(e,r){var s=i.getVar(r,t,n);return s==null?e:s})},i.searchVariables=function(e,t,n){if(!e||e.length===0)return"";var r=[];for(var s=0,o=e.length;s<o;s++){var u=e[s],a=i.getVar(u,t,n);r.push(u+"="+escape(a))}return"?"+r.join("&")},i.fireRule=function(e,t,n){var r=e.trigger;if(!r)return;for(var s=0,o=r.length;s<o;s++){var u=r[s];i.execute(u,t,n)}i.contains(i.fireOnceEvents,e.event)&&(e.expired=!0)},i.isLinked=function(e){for(var t=e.parentNode;t;t=t.parentNode)if(t.nodeName.toLowerCase()=="a")return!0;return!1},i.firePageLoadEvent=function(e){var n=t.location,r={type:e,target:n},s=i.pageLoadRules;for(var o=s.length;o--;){var u=s[o];i.ruleMatches(u,r,n)&&(i.notify('Rule "'+u.name+'" fired.',1),i.fireRule(u,n,r),s.splice(o,1))}for(var a in i.tools){var f=i.tools[a];f.endPLPhase(e)}},i.track=function(e){e=e.replace(/^\s*/,"").replace(/\s*$/,"");for(var t=0;t<i.directCallRules.length;t++){var n=i.directCallRules[t];if(n.name===e){i.notify('Direct call Rule "'+e+'" fired.',1),i.fireRule(n,location,{type:e});return}}i.notify('Direct call Rule "'+e+'" not found.',1)},i.basePath=function(){return i.data.host?(t.location.protocol==="https:"?"https://"+i.data.host.https:"http://"+i.data.host.http)+"/":this.settings.basePath},i.setLocation=function(t){e.location=t},i.parseQueryParams=function(e){if(e==="")return{};var t={},n=e.substring(1).split("&");return i.each(n,function(e){e=e.split("="),t[e[0]]=e[1]}),t};var s=i.parseQueryParams(e.location.search);i.getQueryParam=function(e){return s[e]},i.readCookie=function(e){var r=e+"=",i=t.cookie.split(";");for(var s=0;s<i.length;s++){var o=i[s];while(o.charAt(0)==" ")o=o.substring(1,o.length);if(o.indexOf(r)===0)return o.substring(r.length,o.length)}return n},i.setCookie=function(e,n,r){var i;if(r){var s=new Date;s.setTime(s.getTime()+r*24*60*60*1e3),i="; expires="+s.toGMTString()}else i="";t.cookie=e+"="+n+i+"; path=/"},i.removeCookie=function(e){i.setCookie(e,"",-1)},i.propertiesMatch=function(e,t){var r=i.propertiesMatch.fallbacks;if(e)for(var s in e){var o=e[s],u;s in t?u=t[s]:s in r&&r[s]in t?u=t[r[s]]:u=t.getAttribute?t.getAttribute(s):n;if(typeof o=="string"&&o!==u)return!1;if(o instanceof RegExp&&!o.test(u))return!1}return!0},i.propertiesMatch.fallbacks={innerText:"textContent"},i.ruleMatches=function(e,n,r,s){var o=t.location,u=e.condition,a=e.conditions,f=e.property,l=n.type,c=e.value,h=n.target||n.srcElement,p=r===h;if(e.event!==l)return!1;if(!p&&(e.bubbleFireIfParent===!1||s!==0&&e.bubbleFireIfChildFired===!1))return!1;if(e.selector&&!i.matchesCss(e.selector,r))return!1;if(!i.propertiesMatch(f,r))return!1;if(c!=null)if(typeof c=="string"){if(c!==r.value)return!1}else if(!c.test(r.value))return!1;if(u)try{if(!u.call(r,n,h))return i.notify('Condition for rule "'+e.name+'" not met.',1),!1}catch(d){return i.notify('Condition for rule "'+e.name+'" not met. Error: '+d.message,1),!1}if(a){var v=i.find(a,function(t){try{return!t.call(r,n,h)}catch(s){return i.notify('Condition for rule "'+e.name+'" not met. Error: '+s.message,1),!0}});if(v)return i.notify("Condition "+v.toString()+' for rule "'+e.name+'" not met.',1),!1}return e.isDefault&&s>0?!1:e.expired?!1:!0},i.evtHandlers={},i.whenEvent=function(e,t){var n=i.evtHandlers;n[e]||(n[e]=[]),n[e].push(t)},i.handleEvent=function(e){if(i.$data(e,"eventProcessed"))return;var t=e.type.toLowerCase(),n=e.target||e.srcElement,r=0,s=i.rules,o=i.tools,u=i.evtHandlers[e.type];u&&i.each(u,function(t){t(e)}),n&&n.nodeName?i.notify("detected "+t+" on "+n.nodeName,1):i.notify("detected "+t,1);for(var a=n;a;a=a.parentNode){var f=!1;i.each(s,function(t){i.ruleMatches(t,e,a,r)&&(i.notify('Rule "'+t.name+'" fired.',1),i.fireRule(t,a,e),r++,t.bubbleStop&&(f=!0))});if(f)break}i.$data(e,"eventProcessed",!0)},i.onEvent=t.querySelectorAll?function(e){i.handleEvent(e)}:function(){var e=[],t=function(t){t.selector?e.push(t):i.handleEvent(t)};return t.pendingEvents=e,t}(),i.registerEvents=function(e,t){for(var n=t.length-1;n>=0;n--){var r=t[n];i.$data(e,r+".tracked")||(i.addEventHandler(e,r,i.onEvent),i.$data(e,r+".tracked",!0))}},i.registerEventsForTags=function(e,n){for(var r=e.length-1;r>=0;r--){var s=e[r],o=t.getElementsByTagName(s);for(var u=o.length-1;u>=0;u--)i.registerEvents(o[u],n)}},i.setListeners=function(){i.registerEvents(t,["click","submit"])},i.setFormListeners=function(){i.registerEventsForTags(["input","select","textarea","button"],["select","change","focus","blur","keypress"])},i.setVideoListeners=function(){i.registerEventsForTags(["video"],["play","pause","ended","volumechange","stalled","timeupdate","loadeddata"])},i.readStoredSetting=function(t){return e.localStorage?(t="sdsat_"+t,e.localStorage.getItem(t)):null},i.loadStoredSettings=function(){var e=i.readStoredSetting("debug"),t=i.readStoredSetting("hide_activity");e&&(i.settings.notifications=e==="true"),t&&(i.settings.hideActivity=t==="true")},i.isRuleActive=function(e,t){function d(e,t){return t=m(t,{hour:e[f](),minute:e[l]()}),Math.floor(Math.abs((e.getTime()-t.getTime())/864e5))}function v(e,t){function n(e){return e[u]()*12+e[a]()}return Math.abs(n(e)-n(t))}function m(e,t){var n=new Date(e.getTime());for(var r in t){var i=t[r];switch(r){case"hour":n[c](i);break;case"minute":n[h](i);break;case"date":n[p](i)}}return n}function g(e,t){var n=e[f](),r=e[l](),i=t[f](),s=t[l]();return n*60+r>i*60+s}function y(e,t){var n=e[f](),r=e[l](),i=t[f](),s=t[l]();return n*60+r<i*60+s}var n=e.schedule;if(!n)return!0;var r=n.utc,s=r?"getUTCDate":"getDate",o=r?"getUTCDay":"getDay",u=r?"getUTCFullYear":"getFullYear",a=r?"getUTCMonth":"getMonth",f=r?"getUTCHours":"getHours",l=r?"getUTCMinutes":"getMinutes",c=r?"setUTCHours":"setHours",h=r?"setUTCMinutes":"setMinutes",p=r?"setUTCDate":"setDate";t=t||new Date;if(n.repeat){if(g(n.start,t))return!1;if(y(n.end,t))return!1;if(t<n.start)return!1;if(n.endRepeat&&t>=n.endRepeat)return!1;if(n.repeat==="daily"){if(n.repeatEvery){var b=d(n.start,t);if(b%n.repeatEvery!==0)return!1}}else if(n.repeat==="weekly"){if(n.days){if(!i.contains(n.days,t[o]()))return!1}else if(n.start[o]()!==t[o]())return!1;if(n.repeatEvery){var w=d(n.start,t);if(w%(7*n.repeatEvery)!==0)return!1}}else if(n.repeat==="monthly"){if(n.repeatEvery){var E=v(n.start,t);if(E%n.repeatEvery!==0)return!1}if(n.nthWeek&&n.mthDay){if(n.mthDay!==t[o]())return!1;var S=Math.floor((t[s]()-t[o]()+1)/7);if(n.nthWeek!==S)return!1}else if(n.start[s]()!==t[s]())return!1}else if(n.repeat==="yearly"){if(n.start[a]()!==t[a]())return!1;if(n.start[s]()!==t[s]())return!1;if(n.repeatEvery){var w=Math.abs(n.start[u]()-t[u]());if(w%n.repeatEvery!==0)return!1}}}else{if(n.start>t)return!1;if(n.end<t)return!1}return!0},i.isOutboundLink=function(e){if(!e.getAttribute("href"))return!1;var t=e.hostname,n=e.href,r=e.protocol;if(r!=="http:"&&r!=="https:")return!1;var s=i.settings.spansSubdomains;if(s&&i.isSubdomainOf(t,location.hostname))return!1;var o=i.any(i.settings.domainList,function(e){return i.isSubdomainOf(t,e)});return o?!1:t!==location.hostname},i.isLinkerLink=function(e){return i.hasMultipleDomains()&&e.hostname!=location.hostname&&!e.href.match(/^javascript/i)&&!i.isOutboundLink(e)},i.isSubdomainOf=function(e,t){if(e===t)return!0;var n=e.length-t.length;return n>0?e.substring(n)===t:!1},i.filterRules=function(){function t(t){return i.ruleInScope(t,e)?i.isRuleActive(t)?!0:!1:!1}var e={hostname:location.hostname,protocol:location.protocol,URI:i.data.URI};i.rules=i.filter(i.rules,t),i.pageLoadRules=i.filter(i.pageLoadRules,t)},i.ruleInScope=function(e,t){function a(e,t){function s(e){return t.match(e)}var n=e.include,r=e.exclude;if(n&&f(n,t))return!0;if(r){if(i.isString(r)&&r===t)return!0;if(i.isArray(r)&&i.any(r,s))return!0;if(i.isRegex(r)&&s(r))return!0}return!1}function f(e,t){function n(e){return t.match(e)}return i.isString(e)&&e!==t?!0:i.isArray(e)&&!i.any(e,n)?!0:i.isRegex(e)&&!n(e)?!0:!1}var n=e.scope;if(!n)return!0;var r=n.URI,s=n.subdomains,o=n.domains,u=n.protocols;return r&&a(r,t.URI)?!1:s&&a(s,t.hostname)?!1:o&&f(o,t.hostname)?!1:u&&f(u,t.protocol)?!1:!0},i.backgroundTasks=function(){var e=+(new Date);i.setFormListeners(),i.setVideoListeners(),i.loadStoredSettings(),i.registerNewElementsForDynamicRules(),i.eventEmitterBackgroundTasks();var t=+(new Date)},i.registerNewElementsForDynamicRules=function(){i.each(i.dynamicRules,function(e){i.cssQuery(e.selector,function(t){i.each(t,function(t){i.propertiesMatch(e.property,t)&&i.registerEvents(t,[e.event])})})})},i.ensureCSSSelector=function(){if(t.querySelectorAll){i.hasSelector=!0;return}i.loadingSizzle=!0,i.sizzleQueue=[],i.loadScript(i.basePath()+"selector.js",function(){var e=i.onEvent.pendingEvents;i.each(e,function(e){i.handleEvent(e)},this),i.onEvent=i.handleEvent,i.hasSelector=!0,delete i.loadingSizzle,i.each(i.sizzleQueue,function(e){i.cssQuery(e[0],e[1])}),delete i.sizzleQueue})},i.pageBottom=function(){i.pageBottomFired=!0,i.firePageLoadEvent("pagebottom")},i.stagingLibraryOverride=function(){var e=i.readStoredSetting("stagingLibrary")==="true";if(e){var n=t.getElementsByTagName("script"),r=/^(.*)satelliteLib-(.*)\.js$/,s=/^(.*)satelliteLib-(.*)-staging\.js$/,o,u,a;for(var f=0,l=n.length;f<l;f++){a=n[f].getAttribute("src");if(!a)continue;o||(o=a.match(r)),u||(u=a.match(s));if(u)break}if(o&&!u){var c=o[1]+"satelliteLib-"+o[2]+"-staging.js";return t.write('<script src="'+c+'"></script>'),!0}}return!1},i.checkAsyncInclude=function(){e.satellite_asyncLoad&&i.notify('You may be using the async installation of Satellite. In-page HTML and the "pagebottom" event will not work. Please update your Satellite installation for these features.',5)},i.hasMultipleDomains=function(){return i.settings.domainList.length>1},i.init=function(t){function u(){i.backgroundTasks(),setTimeout(u,i.settings.recheckEvery||3e3)}if(i.stagingLibraryOverride())return;var r=t.tools;delete t.tools;for(var o in t)i[o]=t[o];i.data.customVars===n&&(i.data.customVars={}),i.data.queryParams=s,i.detectBrowserInfo(),i.trackVisitorInfo&&i.trackVisitorInfo(),i.loadStoredSettings(),i.checkAsyncInclude(),i.ensureCSSSelector(),i.filterRules(),i.dynamicRules=i.filter(i.rules,function(e){return e.eventHandlerOnElement}),i.tools=i.initTools(r),i.initEventEmitters(),i.settings.forceLowerCase&&(i.data.URI=i.data.URI.toLowerCase()),i.hasSelector&&i.domReady(i.eventEmitterBackgroundTasks),i.setListeners(),i.domReady(u),i.firePageLoadEvent("pagetop"),i.domReady(function(){i.domReadyFired=!0,i.pageBottomFired||i.pageBottom(),i.firePageLoadEvent("domready")}),i.addEventHandler(e,"load",function(){i.firePageLoadEvent("windowload")})},i.pageLoadPhases=["pagetop","pagebottom","domready","windowload"],i.loadEventBefore=function(e,t){return i.indexOf(i.pageLoadPhases,e)<=i.indexOf(i.pageLoadPhases,t)},i.flushPendingCalls=function(e){e.pending&&(i.each(e.pending,function(t){var n=t[0],r=t[1],s=t[2],o=t[3];n in e?e[n].apply(e,[r,s].concat(o)):e.emit?e.emit(n,r,s,o):i.notify("Failed to trigger "+n+" for tool "+e.id,1)}),delete e.pending)},i.setDebug=function(t){if(!e.localStorage)return;e.localStorage.setItem("sdsat_debug",t)},i.detectBrowserInfo=function(){function e(e){return function(t){for(var n in e){var r=e[n],i=r.test(t);if(i)return n}return"Unknown"}}var t=e({OmniWeb:/OmniWeb/,"Opera Mini":/Opera Mini/,"Opera Mobile":/Opera Mobi/,Opera:/Opera/,"Mobile Safari":/Mobile(\/[0-9A-z]+)? Safari/,Chrome:/Chrome/,Firefox:/Firefox/,"IE Mobile":/IEMobile/,IE:/MSIE/,Safari:/Safari/}),n=e({iOS:/iPhone|iPad|iPod/,Blackberry:/BlackBerry/,"Symbian OS":/SymbOS/,Maemo:/Maemo/,Android:/Android [0-9\.]+;/,Linux:/ Linux /,Unix:/FreeBSD|OpenBSD|CrOS/,Windows:/ Windows /,MacOS:/Macintosh;/}),r=e({iPhone:/iPhone/,iPad:/iPad/,iPod:/iPod/,Nokia:/SymbOS|Maemo/,"Windows Phone":/IEMobile/,Blackberry:/BlackBerry/,Android:/Android [0-9\.]+;/,Desktop:/.*/}),s=navigator.userAgent;i.browserInfo={browser:t(s),os:n(s),deviceType:r(s)}},i.BaseTool=function(e){this.settings=e?e:{}},i.BaseTool.prototype={triggerCommand:function(e,t,n){var r=this.settings||{},s=i.settings.forceLowerCase;if(this.initialize&&!this.initialized&&!this.initializing&&this.isQueueable(e)&&n&&i.loadEventBefore(n.type,r.loadOn)){this.queueCommand(e,t,n);return}"forceLowerCase"in r&&(s=r.forceLowerCase);var o=i.preprocessArguments(e.arguments,t,n,s),u=e.command,a=this["$"+u];a?a.apply(this,[t,n].concat(o)):this.$missing$?this.$missing$(u,t,n,o):i.notify("Failed to trigger "+u+" for tool "+this.id,1)},endPLPhase:function(e){},isQueueable:function(e){return e.command!=="cancelToolInit"},flushQueue:function(){this.pending&&i.each(this.pending,function(e){this.triggerCommand.apply(this,e)},this)},queueCommand:function(e,t,n){this.pending||(this.pending=[]),this.pending.push([e,t,n])},$cancelToolInit:function(){this._cancelToolInit=!0}},e._satellite=i,o.orientationChange=function(t){var n=e.orientation===0?"portrait":"landscape";t.orientation=n,i.onEvent(t)},i.availableEventEmitters.push(o),u.prototype.backgroundTasks=function(){i.each(this.rules,function(e){i.cssQuery(e.selector,function(e){e.length>0&&i.onEvent({type:"elementexists",target:e[0]})})})},i.availableEventEmitters.push(u),a.currentZoom=function(){return t.documentElement.clientWidth/e.innerWidth},i.availableEventEmitters.push(a),f.prototype={backgroundTasks:function(){var e=this.eventHandler;i.each(i.rules,function(t){i.cssQuery(t.selector||"video",function(t){i.each(t,function(t){if(i.$data(t,"videoplayed.tracked"))return;i.addEventHandler(t,"timeupdate",i.throttle(e,100)),i.$data(t,"videoplayed.tracked",!0)})})})},evalRule:function(e,t){var n=t.event,r=e.seekable,s=r.start(0),o=r.end(0),u=e.currentTime,a=t.event.match(/^videoplayed\(([0-9]+)([s%])\)$/);if(!a)return;var f=a[2],l=Number(a[1]),c=f==="%"?function(){return l<=100*(u-s)/(o-s)}:function(){return l<=u-s};!i.$data(e,n)&&c()&&(i.$data(e,n,!0),i.onEvent({type:n,target:e}))},onUpdateTime:function(e){var t=this.rules,n=e.target;if(!n.seekable||n.seekable.length===0)return;for(var r=0,i=t.length;r<i;r++)this.evalRule(n,t[r])}},i.availableEventEmitters.push(f),l.prototype={backgroundTasks:function(){var e=this;i.each(this.rules,function(t){var n=t[1],r=t[0];i.cssQuery(n,function(t){i.each(t,function(t){e.trackElement(t,r)})})},this)},trackElement:function(e,t){var n=this,r=i.$data(e,"hover.delays");r?i.contains(r,t)||r.push(t):(i.addEventHandler(e,"mouseover",function(t){n.onMouseOver(t,e)}),i.addEventHandler(e,"mouseout",function(t){n.onMouseOut(t,e)}),i.$data(e,"hover.delays",[t]))},onMouseOver:function(e,t){var n=e.target||e.srcElement,r=e.relatedTarget||e.fromElement,s=(t===n||i.containsElement(t,n))&&!i.containsElement(t,r);s&&this.onMouseEnter(t)},onMouseEnter:function(e){var t=i.$data(e,"hover.delays"),n=i.map(t,function(t){return setTimeout(function(){i.onEvent({type:"hover("+t+")",target:e})},t)});i.$data(e,"hover.delayTimers",n)},onMouseOut:function(e,t){var n=e.target||e.srcElement,r=e.relatedTarget||e.toElement,s=(t===n||i.containsElement(t,n))&&!i.containsElement(t,r);s&&this.onMouseLeave(t)},onMouseLeave:function(e){var t=i.$data(e,"hover.delayTimers");t&&i.each(t,function(e){clearTimeout(e)})}},i.availableEventEmitters.push(l),i.availableEventEmitters.push(c),i.availableEventEmitters.push(h),p.offset=function(n){var r;try{r=n.getBoundingClientRect()}catch(i){}var s=t,o=s.documentElement,u=s.body,a=e,f=o.clientTop||u.clientTop||0,l=o.clientLeft||u.clientLeft||0,c=a.pageYOffset||o.scrollTop||u.scrollTop,h=a.pageXOffset||o.scrollLeft||u.scrollLeft,p=r.top+c-f,d=r.left+h-l;return{top:p,left:d}},p.getViewportHeight=function(){var n=e.innerHeight,r=t.compatMode;return r&&(n=r=="CSS1Compat"?t.documentElement.clientHeight:t.body.clientHeight),n},p.getScrollTop=function(){return t.documentElement.scrollTop?t.documentElement.scrollTop:t.body.scrollTop},p.prototype={backgroundTasks:function(){var e=this.elements,t=this;i.each(this.rules,function(n){i.cssQuery(n.selector,function(r){var s=0;i.each(r,function(t){i.contains(e,t)||(e.push(t),s++)}),s&&(i.notify(n.selector+" added "+s+" elements.",1),t.track())})})},checkInView:function(e,t){var n=p.getViewportHeight(),r=p.getScrollTop(),s=p.offset(e).top,o=e.offsetHeight,u=i.$data(e,"inview");if(r>s+o||r+n<s)u&&i.$data(e,"inview",!1),this.processRules(e,function(t,n,r){var s=i.$data(e,r);s&&clearTimeout(s)});else if(r<s+o){u||i.$data(e,"inview",!0);var a=this;this.processRules(e,function(n,r,s){if(t||!n.inviewDelay)i.$data(e,r,!0),i.onEvent({type:"inview",target:e});else if(n.inviewDelay){var o=i.$data(e,s);o&&clearTimeout(o),o=setTimeout(function(){a.checkInView(e,!0)},n.inviewDelay),i.$data(e,s,o)}})}},track:function(){i.each(this.elements,function(e){this.checkInView(e)},this)},processRules:function(e,t){i.each(this.rules,function(n,r){var s="viewed_"+r,o="inview_timeout_id_"+r;if(i.$data(e,s))return;i.matchesCss(n.selector,e)&&t(n,s,o)})}},i.availableEventEmitters.push(p),i.inherit(d,i.BaseTool),i.extend(d.prototype,{name:"SC",initialize:function(t){if(this._cancelToolInit)return;if(this.settings.initTool!==!1){var n=this.settings.sCodeURL||i.basePath()+"s_code.js";typeof n=="object"&&(e.location.protocol==="https:"?n=n.https:n=n.http),n.match(/^https?:/)||(n=i.basePath()+n);if(this.settings.initVars){var r=this.substituteVariables(this.settings.initVars,{type:t});this.$setVars(null,null,r)}i.loadScript(n,i.bind(function(){i.notify("SiteCatalyst: loaded.",1),this.settings.customInit&&this.settings.customInit(this.getS()),this.trackInitialPageView(),this.initialized=!0,this.initializing=!1},this)),this.initializing=!0}else this.initializing=!0},backgroundTasks:function(){this.initializing&&typeof e.s_gi=="function"&&(this.flushQueue(),this.initialized=!0,this.initializing=!1)},substituteVariables:function(e,t){var n="forceLowerCase"in this.settings?this.settings.forceLowerCase:i.settings.forceLowerCase,r={};for(var s in e){var o=e[s];r[s]=i.replace(o,location,t)}return r},trackInitialPageView:function(){this.flushQueue(),this.sendBeacon()},endPLPhase:function(e){var t=this.settings.loadOn;e===t&&this.initialize(e)},$setVars:function(e,t,n){for(var r in n){var s=n[r];typeof s=="function"&&(s=s()),this.varBindings[r]=s}i.notify("SiteCatalyst: set variables.",2)},$customSetup:function(e,t,n){this.customSetupFunc=n},getS:function(t){var n=this.varBindings,r=this.settings.account,i=e.s_gi;if(!i)return null;var t=t||i(r);for(var s in n)t[s]=n[s];return this.events.length>0&&(t.events=this.events.join(",")),this.customSetupFunc&&this.customSetupFunc.call(e,t),t},clearVarBindings:function(){this.varBindings={}},sendBeacon:function(){var t=this.getS(e[this.settings.renameS||"s"]);if(!t){i.notify("SiteCatalyst: page code not loaded",1);return}t.linkTrackVars="",t.linkTrackEvents="",t.t(),this.clearVarBindings(),i.notify("SiteCatalyst: tracked page view",1)},$trackLink:function(e,t,n,r){r=r||(e&&e.nodeName.toLowerCase()==="a"?e.innerHTML:"")||"link clicked";var s=this.getS();if(!s){i.notify("SiteCatalyst: page code not loaded",1);return}var o=this.definedVarNames();this.events.length>0&&o.push("events"),s.products&&o.push("products"),s.linkTrackVars=o.join(","),s.linkTrackEvents=this.events.join(","),s.tl(!0,n||"o",r),this.clearVarBindings(),i.notify("SiteCatalyst: tracked link",1)},definedVarNames:function(){var e=[];for(var t in this.varBindings)/^(eVar[0-9]+)|(prop[0-9]+)$/.test(t)&&e.push(t);return e},$trackPageView:function(){var e=this.getS();if(!e){i.notify("SiteCatalyst: page code not loaded",1);return}e.linkTrackVars="",e.linkTrackEvents="",e.t(),this.clearVarBindings(),i.notify("SiteCatalyst: tracked page view",1)},$postTransaction:function(t,n,r){var s=i.data.transaction=e[r],o=this.varBindings,u=this.settings.fieldVarMapping;i.each(s.items,function(e){this.products.push(e)},this),o.products=i.map(this.products,function(e){var t=[];if(u&&u.item)for(var n in u.item){var r=u.item[n];t.push(r+"="+e[n]),r.substring(0,5)==="event"&&this.events.push(r)}var i=["",e.product,e.quantity,e.unitPrice*e.quantity];return t.length>0&&i.push(t.join("|")),i.join(";")},this).join(",");if(u&&u.transaction){var a=[];for(var f in u.transaction){var r=u.transaction[f];a.push(r+"="+s[f]),r.substring(0,5)==="event"&&this.events.push(r)}o.products.length>0&&(o.products+=","),o.products+=";;;;"+a.join("|")}},$addEvent:function(e,t){for(var n=2,r=arguments.length;n<r;n++)this.events.push(arguments[n])},$addProduct:function(e,t){for(var n=2,r=arguments.length;n<r;n++)this.products.push(arguments[n])}}),i.availableTools.sc=d,i.inherit(v,i.BaseTool),i.extend(v.prototype,{name:"Default",$loadIframe:function(t,n,r){var s=r.pages,o=r.loadOn,u=i.bind(function(){i.each(s,function(e){this.loadIframe(t,n,e)},this)},this);o||u(),o==="domready"&&i.domReady(u),o==="load"&&i.addEventHandler(e,"load",u)},loadIframe:function(e,n,r){var s=t.createElement("iframe");s.style.display="none";var o=i.data.host,u=r.data,a=this.scriptURL(r.src),f=i.searchVariables(u,e,n);o&&(a=i.basePath()+a),a+=f,s.src=a;var l=t.getElementsByTagName("body")[0];l?l.appendChild(s):i.domReady(function(){t.getElementsByTagName("body")[0].appendChild(s)})},scriptURL:function(e){var t=i.settings.scriptDir||"";return t+e},$loadScript:function(t,n,r){var s=r.scripts,o=r.sequential,u=r.loadOn,a=i.bind(function(){o?this.loadScripts(t,n,s):i.each(s,function(e){this.loadScripts(t,n,[e])},this)},this);u?u==="domready"?i.domReady(a):u==="load"&&i.addEventHandler(e,"load",a):a()},loadScripts:function(e,t,n){function a(){if(r.length>0&&s){var f=r.shift();f.call(e,t,o)}var l=n.shift();if(l){var c=i.data.host,h=u.scriptURL(l.src);c&&(h=i.basePath()+h),i.loadScript(h,a),s=l}}var n=n.slice(0),r=this.asyncScriptCallbackQueue,s,o=t.target||t.srcElement,u=this;a()},$loadBlockingScript:function(e,t,n){var r=n.scripts,s=n.loadOn,o=i.bind(function(){i.each(r,function(n){this.loadBlockingScript(e,t,n)},this)},this);o()},loadBlockingScript:function(e,n,r){var s=this.scriptURL(r.src),o=i.data.host,u=n.target||n.srcElement;o&&(s=i.basePath()+s);var a='<script src="'+s+'"></script>';this.argsForBlockingScripts.push([e,n,u]),t.write(a)},pushAsyncScript:function(e){this.asyncScriptCallbackQueue.push(e)},pushBlockingScript:function(e){var t=this.argsForBlockingScripts.shift(),n=t[0];e.apply(n,t.slice(1))},$writeHTML:function(e,n){if(i.domReadyFired){i.notify("Command writeHTML failed. You may be using an async installation of Satellite.",1);return}if(n.type!=="pagebottom"&&n.type!=="pagetop"){i.notify("You can only use writeHTML on the `pagetop` and `pagebottom` events.",1);return}for(var r=2,s=arguments.length
;r<s;r++){var o=arguments[r].html;o=i.replace(o,e,n),t.write(o)}},linkNeedsDelayActivate:function(t,n){n=n||e;var r=t.tagName,i=t.getAttribute("target");return r&&r.toLowerCase()!=="a"?!1:i?i==="_blank"?!1:i==="_top"?n.top===n:i==="_parent"?!1:i==="_self"?!0:n.name?i===n.name:!0:!0},$delayActivateLink:function(e,t){if(!this.linkNeedsDelayActivate(e))return;i.preventDefault(t);var n=i.settings.linkDelay||100;setTimeout(function(){i.setLocation(e.href)},n)},isQueueable:function(e){return e.command!=="writeHTML"}}),i.availableTools["default"]=v,i.inherit(m,i.BaseTool),i.extend(m.prototype,{name:"GA",initialize:function(){var n=this.settings,r=e._gaq,s=e._gaq=r||[],o=n.initCommands||[],u=n.customInit;this.forceLowerCase=i.settings.forceLowerCase,"forceLowerCase"in n&&(this.forceLowerCase=n.forceLowerCase);if(!this.isSuppressed()){if(!r&&!m.scriptLoaded){var a=("https:"==t.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";i.loadScript(a),m.scriptLoaded=!0,i.notify("GA: page code loaded.",1)}var f=n.domain,l=n.trackerName,c=this.allowLinker(),h=n.account,p=i.settings.domainList;s.push([this.cmd("setAccount"),h]),c&&s.push([this.cmd("setAllowLinker"),c]);var d=i.find(p,function(t){var n=e.location.hostname;return n.slice(n.length-t.length)===t});s.push([this.cmd("setDomainName"),d?"."+d:"auto"]),i.each(o,function(e){var t=[this.cmd(e[0])].concat(e.slice(1));s.push(t)},this),u&&(this.suppressInitialPageView=!1===u(s,l)),n.pageName&&this.$overrideInitialPageView(null,null,n.pageName)}else i.notify("GA: page code not loaded(suppressed).",1);this.initialized=!0},isSuppressed:function(){return this._cancelToolInit||this.settings.initTool===!1},allowLinker:function(){var e=i.settings.domainList;return e&&e.length>1||!!i.settings.outboundLinkExcludes},tracker:function(){return this.settings.trackerName},cmd:function(e){var t=this.tracker();return t?t+"._"+e:"_"+e},$overrideInitialPageView:function(e,t,n){this.urlOverride=n},trackInitialPageView:function(){if(this.isSuppressed())return;if(this.suppressInitialPageView)return;if(this.urlOverride){var e=i.preprocessArguments([this.urlOverride],location,null,this.forceLowerCase);this.$missing$("trackPageview",null,null,e)}else this.$missing$("trackPageview")},endPLPhase:function(e){var t=this.settings.loadOn;e===t&&(i.notify("GA: Initializing at "+e,1),this.initialize(),this.flushQueue(),this.trackInitialPageView())},$missing$:function(e,t,n,r){if(this._cancelToolInit)return;var s=this.settings,o=this.tracker(),u=this.cmd(e),r=r?[u].concat(r):[u];_gaq.push(r),o?i.notify("GA: sent command "+e+" to tracker "+o+(r.length>1?" with parameters ["+r.slice(1).join(", ")+"]":"")+".",1):i.notify("GA: sent command "+e+(r.length>1?" with parameters ["+r.slice(1).join(", ")+"]":"")+".",1)},$postTransaction:function(t,n,r){var s=i.data.customVars.transaction=e[r];this.$missing$("addTrans",t,n,[s.orderID,s.affiliation,s.total,s.tax,s.shipping,s.city,s.state,s.country]),i.each(s.items,function(e){this.$missing$("addItem",t,n,[e.orderID,e.sku,e.product,e.category,e.unitPrice,e.quantity])},this),this.$missing$("trackTrans",t,n)},$link:function(e,t){var n=this;if(!this.allowLinker())return;if(!e.hostname.match(this.settings.linkerDomains))return;if(i.isSubdomainOf(e.hostname,location.hostname))return;i.preventDefault(t);var r=i.settings.linkDelay||100;setTimeout(function(){n.$missing$("link",e,t,e.href)},r)}}),i.availableTools.ga=m,i.inherit(g,i.BaseTool),i.extend(g.prototype,{name:"tnt",myInitialize:function(){var t=this.settings.mboxURL;typeof t=="object"&&(e.location.protocol==="https:"?t=t.https:t=t.http),t.match(/^https?:/)||(t=i.basePath()+t),this.settings.initTool!==!1?(i.loadScript(t,i.bind(function(){i.notify("Test & Target: loaded.",1),this.flushQueue(),this.initialized=!0,this.initializing=!1},this)),this.initializing=!0):this.initialized=!0},$addMbox:function(e,t,n){var r=n.mboxGoesAround,i=r+"{visibility: hidden;}",s=this.appendStyle(i);r in this.styleElements||(this.styleElements[r]=s),this.initialized?this.$addMBoxStep2(null,null,n):this.initializing&&this.queueCommand({command:"addMBoxStep2",arguments:[n]},e,t)},$addMBoxStep2:function(n,r,s){var o=this.generateID(),u=this;i.domReady(i.bind(function(){i.cssQuery(s.mboxGoesAround,function(n){var r=n[0];if(!r)return;var i=t.createElement("div");i.id=o,r.parentNode.replaceChild(i,r),i.appendChild(r),e.mboxDefine(o,s.mboxName);var a=[s.mboxName];s.arguments&&(a=a.concat(s.arguments)),e.mboxUpdate.apply(null,a),u.reappearWhenCallComesBack(r,o,s.timeout,s)})},this)),this.lastMboxID=o},generateID:function(){var e="_sdsat_mbox_"+String(Math.random()).substring(2)+"_";return e},appendStyle:function(e){var n=t.getElementsByTagName("head")[0],r=t.createElement("style");return r.type="text/css",r.styleSheet?r.styleSheet.cssText=e:r.appendChild(t.createTextNode(e)),n.appendChild(r),r},reappearWhenCallComesBack:function(e,t,n,r){function o(){var e=s.styleElements[r.mboxGoesAround];e&&(e.parentNode.removeChild(e),delete s.styleElements[r.mboxGoesAround])}var s=this;setTimeout(function(){i.cssQuery('script[src*="omtrdc.net"]',function(e){var t=e[0];if(t){i.scriptOnLoad(t,function(){i.notify("Test & Target: request complete",1),o(),clearTimeout(r)});var r=setTimeout(function(){i.notify("Test & Target: bailing after "+n+"ms",1),o()},n)}else i.notify("Test & Target: failed to find T&T ajax call, bailing",1),o()})},1)}}),i.availableTools.tnt=g,!function(){function e(e){return"_sdsat_"+e}i.trackVisitorInfo=function(){var e=i.trackLandingPage();i.trackSessionCount(e),i.trackLifetimePagesViewed(),i.trackSessionPagesViewed(),i.trackTrafficSource()},i.trackLandingPage=function(){var t=e("landing_page"),n=i.readCookie(t);return(!n||n.split("|").length<2)&&i.setCookie(t,location.href+"|"+(new Date).getTime()),!n},i.visitorLandingPage=function(){var t=i.readCookie(e("landing_page"));return t?t.split("|")[0]:null},i.visitorLandingTime=function(){var t=i.readCookie(e("landing_page"));return t?Number(t.split("|")[1]):null},i.minutesOnSite=function(){var e=(new Date).getTime();return Math.floor((e-i.visitorLandingTime())/1e3/60)},i.trackSessionCount=function(t){if(!t)return;var n=i.visitorSessionCount();i.setCookie(e("session_count"),n+1,730)},i.visitorSessionCount=function(){return Number(i.readCookie(e("session_count"))||"0")},i.isNewVisitor=function(){return i.visitorSessionCount()===1},i.trackSessionPagesViewed=function(){i.setCookie(e("pages_viewed"),i.visitorSessionPagesViewed()+1)},i.trackLifetimePagesViewed=function(){i.setCookie(e("lt_pages_viewed"),i.visitorLifetimePagesViewed()+1,730)},i.visitorLifetimePagesViewed=function(){return Number(i.readCookie(e("lt_pages_viewed"))||0)},i.visitorSessionPagesViewed=function(){return Number(i.readCookie(e("pages_viewed"))||"0")},i.trackTrafficSource=function(){var n=e("traffic_source");i.readCookie(n)||i.setCookie(n,t.referrer)},i.trafficSource=function(){return i.readCookie(e("traffic_source"))}}(),i.ecommerce={addItem:function(){var e=[].slice.call(arguments);i.onEvent({type:"ecommerce.additem",target:e})},addTrans:function(){var e=[].slice.call(arguments);i.data.saleData.sale={orderId:e[0],revenue:e[2]},i.onEvent({type:"ecommerce.addtrans",target:e})},trackTrans:function(){i.onEvent({type:"ecommerce.tracktrans",target:[]})}},_satellite.init({tools:{},pageLoadRules:[{name:"iPerceptions (CA)",trigger:[{command:"writeHTML",arguments:[{html:'<!-- Begin: www.iperceptions.com -->\r\n<script type="text/javascript">\r\n;(function (w, d, s) {\r\n    var js,                              \r\n    fjs = d.getElementsByTagName(s)[0],  \r\n    id = "IPerceptionsJS",\r\n    a = "async",\r\n    b = "defer", \r\n    c = d.cookie;\r\n \r\n    if(!(/(^|;)\\s*IPE(_S_)?110179=/.test(c)) && !(d.getElementById(id))) {  \r\n        js = d.createElement(s); \r\n        js.src = w.location.protocol + "//ips-invite.iperceptions.com/webValidator.aspx?sdfc=44ac590b-110179-629832ab-2ba5-6a89-c3ed-9270a0e350a3&lID=10&loc=STUDY&cD=90&rF=False&iType=1&domainname=0";\r\n        js.id = id; \r\n        js.type = "text/javascript";\r\n        js[a] = a;\r\n        js[b] = b;\r\n        fjs.parentNode.insertBefore(js, fjs);\r\n     }\r\n}) (window, document, "script");\r\n</script>\r\n<!-- End: www.iperceptions.com -->\r\n'}]}],scope:{URI:{include:[/.*/i],exclude:[/\/(event|checkout|exchange|shoppinglist|auction|partner_redirect.*)\/.*/i]},domains:[/ticketmaster\.ca/i]},conditions:[function(){return _satellite.visitorSessionPagesViewed()>4},function(e,t){var n={trueForInclude:!1,startTime:8,endTime:13},r=(new Date).getHours(),i=r>=n.startTime&&r<=n.endTime;return i&&n.trueForInclude||!i&&!n.trueForInclude}],event:"pagebottom"},{name:"iPerceptions (US)",trigger:[{command:"writeHTML",arguments:[{html:'<!-- Begin: www.iperceptions.com -->\r\n<script type="text/javascript">\r\n;(function (w, d, s) {\r\n    var js,                              \r\n    fjs = d.getElementsByTagName(s)[0],  \r\n    id = "IPerceptionsJS",\r\n    a = "async",\r\n    b = "defer", \r\n    c = d.cookie;\r\n \r\n    if(!(/(^|;)\\s*IPE(_S_)?110179=/.test(c)) && !(d.getElementById(id))) {  \r\n        js = d.createElement(s); \r\n        js.src = w.location.protocol + "//ips-invite.iperceptions.com/webValidator.aspx?sdfc=44ac590b-110179-629832ab-2ba5-6a89-c3ed-9270a0e350a3&lID=1&loc=STUDY&cD=90&rF=False&iType=1&domainname=0";\r\n        js.id = id; \r\n        js.type = "text/javascript";\r\n        js[a] = a;\r\n        js[b] = b;\r\n        fjs.parentNode.insertBefore(js, fjs);\r\n     }\r\n}) (window, document, "script");\r\n</script>\r\n<!-- End: www.iperceptions.com -->\r\n'}]}],scope:{URI:{include:[/.*/i],exclude:[/\/(event|checkout|exchange|shoppinglist|auction|partner_redirect.*)\/.*/i]},domains:[/ticketmaster\.com/i]},conditions:[function(){return _satellite.visitorSessionPagesViewed()>4},function(e,t){var n={trueForInclude:!1,startTime:8,endTime:13},r=(new Date).getHours(),i=r>=n.startTime&&r<=n.endTime;return i&&n.trueForInclude||!i&&!n.trueForInclude}],event:"pagebottom"}],rules:[{name:"Dead Header",trigger:[{engine:"ga",command:"trackEvent",arguments:["dead content","dead header click: %this.innerHTML%","from: %URI%"]}],conditions:[function(e,t){return!_satellite.isLinked(t)}],event:"click",isDefault:!0,selector:"h1, h2, h3, h4, h5"},{name:"Dead Image",trigger:[{engine:"ga",command:"trackEvent",arguments:["dead content","dead image click: %this.src%","from: %URI%"]}],conditions:[function(e,t){return!_satellite.isLinked(t)}],event:"click",isDefault:!0,selector:"img"},{name:"Download Link",trigger:[{engine:"ga",command:"trackEvent",arguments:["downloads","download: %this.href%","from: %URI%"]},{command:"delayActivateLink"}],event:"click",isDefault:!0,selector:"a",property:{href:/\.(?:doc|docx|eps|jpg|png|svg|xls|ppt|pptx|pdf|xlsx|tab|csv|zip|txt|vsd|vxd|xml|js|css|rar|exe|wma|mov|avi|wmv|mp3|wav|m4v)($|\&|\?)/i}},{name:"Email Link",trigger:[{engine:"ga",command:"trackEvent",arguments:["communication/social","email: %this.href%","from: %URI%"]}],event:"click",isDefault:!0,selector:"a",property:{href:/^mailto/i}},{name:"Orientation Changed",trigger:[{engine:"ga",command:"trackEvent",arguments:["mobile","orientation change to %event.orientation%","from: %URI%"]}],event:"orientationchange",isDefault:!0},{name:"Outbound Link",trigger:[{engine:"ga",command:"trackEvent",arguments:["outbound links","outbound link: %this.href%","from: %URI%"]},{command:"delayActivateLink"}],conditions:[function(e,t){return _satellite.isOutboundLink(this)}],event:"click",isDefault:!0,selector:"a"},{name:"Telephone Dial",trigger:[{engine:"ga",command:"trackEvent",arguments:["mobile","dialed %this.href%","from: %URI%"]}],event:"click",isDefault:!0,selector:"a",property:{href:/^tel:/i}},{name:"Zoom Changed",trigger:[{engine:"ga",command:"trackEvent",arguments:["mobile","user zoomed","Zoomed using: %event.method% to scale %event.zoom%"]}],event:"zoomchange",isDefault:!0}],directCallRules:[],settings:{trackInternalLinks:!0,libraryName:"satelliteLib-df472949e8a036d72570b7a081d946474e1d4d29",allowGATTcalls:!1,downloadExtensions:/\.(?:doc|docx|eps|jpg|png|svg|xls|ppt|pptx|pdf|xlsx|tab|csv|zip|txt|vsd|vxd|xml|js|css|rar|exe|wma|mov|avi|wmv|mp3|wav|m4v)($|\&|\?)/i,notifications:!1,utilVisible:!1,domainList:["ticketmaster.ca","ticketmaster.com"],spansSubdomains:!0,scriptDir:"bbc5bbf56a4c9cda1271b6b9cb3e94744124c05b/scripts/",tagTimeout:3e3},data:{URI:t.location.pathname+t.location.search,browser:{},cartItems:[],revenue:"",host:{http:"ticketmaster.com/scripts/satellite",https:""}},dataElements:{}})})(window,document);
